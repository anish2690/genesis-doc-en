(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{351:function(t,e,a){t.exports=a.p+"assets/img/20200524230624.3cc651fe.jpg"},352:function(t,e,a){t.exports=a.p+"assets/img/20200524232646.42ac2fb6.jpg"},353:function(t,e,a){t.exports=a.p+"assets/img/20200524232818.d25f822b.jpg"},354:function(t,e,a){t.exports=a.p+"assets/img/20200525002108.dacbbb86.jpg"},355:function(t,e){t.exports="data:image/png;base64,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"},368:function(t,e,a){"use strict";a.r(e);var s=a(42),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vue-ssr-based-micro-architecture-practice-in-followme5-0"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-ssr-based-micro-architecture-practice-in-followme5-0"}},[t._v("#")]),t._v(" Vue SSR-based micro-architecture practice in FOLLOWME5.0")]),t._v(" "),s("p",[t._v("The first version of "),s("a",{attrs:{href:"https://www.followme.com/c/21009745?source=genesis",target:"_blank",rel:"noopener noreferrer"}},[t._v("FOLLOWME5.0"),s("OutboundLink")],1),t._v(" was finally launched on May 22, 2020, which is also the first in the company based on "),s("code",[t._v("Genesis")]),t._v(" Two projects. The home page is the oldest kind of Vue SSR experienced by the old project. Later, at the beginning of the year, it was migrated to Nuxt.js, and now it is migrated to "),s("code",[t._v("Genesis")]),t._v(", which is a twist.")]),t._v(" "),s("h2",{attrs:{id:"first-practice"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#first-practice"}},[t._v("#")]),t._v(" First practice")]),t._v(" "),s("p",[s("img",{attrs:{src:a(351),alt:""}}),t._v("\nIn the first half of 2019, we implemented modularization for the first time in a project co-developed with APP. It has independent API, routing, status, and pages, and is initialized on demand, but it is not perfect. , It is a routing-based micro-module, and the state is also injected into the global state management as needed")]),t._v(" "),s("h2",{attrs:{id:"no-routing-micromodule"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#no-routing-micromodule"}},[t._v("#")]),t._v(" No routing micromodule")]),t._v(" "),s("p",[t._v("In August 2019, I began to intervene in the development of the web homepage. The first thing I faced was the state management based on Vuex. All the states were injected into the global state and intersected together. With the iteration of the business, they have been divided. Know which ones are needed and which can be deleted. With the expansion of the business scale, it becomes more and more difficult to maintain. In order to ensure no intrusion, based on "),s("a",{attrs:{href:"https://www.npmjs.com/package/tms.js",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tms.js"),s("OutboundLink")],1),t._v(", a state library supporting micro-modules was abstracted. At this time, our micro-modules have independent API, status and page.\n"),s("img",{attrs:{src:a(352),alt:""}}),t._v(" "),s("img",{attrs:{src:a(353),alt:""}}),t._v("\nOur 5.0 left navigation was pulled out into an independent running micro-module, a micro-module is composed of multiple components, it has its own internal state management.")]),t._v(" "),s("h2",{attrs:{id:"great-leap-forward"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#great-leap-forward"}},[t._v("#")]),t._v(" Great Leap Forward")]),t._v(" "),s("p",[t._v("At the end of 2019, when we learned that we want to upgrade version 5.0, the website will also be refactored significantly. Based on the existing micromodule development concept, we hope to be able to take a step closer and solve some of the previous project architecture. Disadvantages.")]),t._v(" "),s("p",[t._v("Before 5.0, we have a common navigation bar, whether it is a CSR or SSR project, it needs it. Every time the navigation bar changes, we need to repackage a dozen projects for release, which greatly consumes our body and mind Physically, I hope that a page can be aggregated from different SSR services and provided to another service through the API.")]),t._v(" "),s("p",[t._v("After the birth of this bold idea, we studied Nuxt.js in depth, hoping that it could meet our needs. After some research and confirmation that it could not meet my needs, we finally chose to build wheels.")]),t._v(" "),s("h2",{attrs:{id:"genesis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#genesis"}},[t._v("#")]),t._v(" Genesis")]),t._v(" "),s("p",[t._v("With reference to the implementation of some community SSR frameworks, they are basically packaged frameworks with low flexibility, and we expect it to be a simple SSR library, used as a tool function, in order to support multi-instance operation.")]),t._v(" "),s("p",[t._v("Under the concept here, it does not directly read a configuration like Nuxt.js "),s("code",[t._v("nuxt.config.js")]),t._v(" and start to run, giving you a variety of integrated functions, it is only a basic to no basic rendering tool function")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("SSR")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@fmfe/genesis-core'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ssr "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SSR")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" renderer "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ssr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("createRenderer")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nrenderer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n")])])]),s("p",[t._v("Of course, in actual business, we also need to create an HTTP service to return our content to the user.")]),t._v(" "),s("p",[t._v("If you want to achieve microservices and can be called between different services, you first need the service's own ability to output the rendering result "),s("code",[t._v("JSON")]),t._v(", and then the third-party service reads the rendering result and outputs it to HTML")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v("renderer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ssr-json'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("p",[t._v("We skillfully used Vue's "),s("code",[t._v("Renderer")]),t._v(" option "),s("a",{attrs:{href:"https://ssr.vuejs.org/zh/api/#template",target:"_blank",rel:"noopener noreferrer"}},[t._v("template"),s("OutboundLink")],1),t._v(", passed in a function, and returned a JSON rendering result after execution")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    strHtml"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("string")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    ctx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Genesis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RenderContext\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Promise")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Genesis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("RenderData"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" html "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" strHtml"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^(<[A-z]([A-z]|[0-9])+)/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("$1 ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_createRootNodeAttr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" vueCtx"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" resource "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" vueCtx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("getPreloadFiles")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Genesis"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("RenderContextResource")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                file"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ssr"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("publicPath"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("file"),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                extension"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" item"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("extension\n            "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("html "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\x3c!----\x3e'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token template-string"}},[s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("<div ")]),s("span",{pre:!0,attrs:{class:"token interpolation"}},[s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("_createRootNodeAttr")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("></div>")]),s("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" html"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("script "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" vueCtx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderScripts")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" vueCtx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("renderStyles")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("resource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_subs"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("fn"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Function")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ctx "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("any")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_subs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" ctx"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"remote-component"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote-component"}},[t._v("#")]),t._v(" Remote component")]),t._v(" "),s("p",[t._v("Considering that not all projects require remote invocation, so remote invocation components are provided in separate packages. After getting the rendering result of SSR JSON, the remote component will help us to embed it in the page of the service.")]),t._v(" "),s("div",{staticClass:"language-vue extra-class"},[s("pre",{pre:!0,attrs:{class:"language-vue"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("remote-view")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v(":fetch")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("fetch"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("template")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])]),s("p",[s("code",[t._v("fetch")]),t._v(" is an asynchronous callback function. You can use the axios library to send a request to return the result of SSR rendering to the "),s("code",[t._v("remote-view")]),t._v(" component.")]),t._v(" "),s("div",{staticClass:"language-ts extra-class"},[s("pre",{pre:!0,attrs:{class:"language-ts"}},[s("code",[t._v("renderer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" url"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" mode"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ssr-json'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("r")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Write an interface to provide r.data to remote-view component for access")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"_5-0-service-split"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-0-service-split"}},[t._v("#")]),t._v(" 5.0 Service Split")]),t._v(" "),s("p",[s("img",{attrs:{src:a(354),alt:""}}),t._v("\nAccording to the UI rendering effect, we split the left navigation and content area into different services. Among them, the content area is divided into different services because of different development teams and different businesses.\nIn the first version, we split the "),s("code",[t._v("node-ssr-general")]),t._v(" service of the left navigation, the "),s("code",[t._v("node-ssr-home")]),t._v(" service of the homepage and notification, and the "),s("code",[t._v("node-ssr-signal")]),t._v(" service of the signal, each of which is Independent deployment, independent development, and maintenance by different people, but eventually aggregated by the "),s("code",[t._v("node-ssr-general")]),t._v(" service.")]),t._v(" "),s("p",[t._v("In the future, our products will be further iterated, and more and more services will be integrated into this large application.")]),t._v(" "),s("h2",{attrs:{id:"intranet-domain-name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#intranet-domain-name"}},[t._v("#")]),t._v(" Intranet domain name")]),t._v(" "),s("p",[t._v("In the initial SSR service, I tried to use RPC and HTTP to obtain interface data for rendering. After weighing, we uniformly adopted the method of configuring HOST on the server in 5.0, configuring an intranet domain name, and providing the SSR service with HTTP requests. retrieve data")]),t._v(" "),s("h2",{attrs:{id:"service-loading-strategy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#service-loading-strategy"}},[t._v("#")]),t._v(" Service loading strategy")]),t._v(" "),s("p",[t._v("In order to present the first screen to the user faster, the remote component on the server side uses SSR rendering. When the client route is switched, the CSR rendering is used. Therefore, when the "),s("code",[t._v("Home")]),t._v(" switch to the "),s("code",[t._v("Signal")]),t._v(" section, it will There are some obvious white screens during the loading process.")]),t._v(" "),s("p",[t._v("You can use Service Worker to preload static resources of all services and HTML during CSR rendering to reduce the chance of a white screen when loading the service content")]),t._v(" "),s("h2",{attrs:{id:"about-micro-frontend"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#about-micro-frontend"}},[t._v("#")]),t._v(" About Micro FrontEnd")]),t._v(" "),s("p",[t._v("In theory, "),s("code",[t._v("Genesis")]),t._v(" can also support React at the same time, output the same standard JSON rendering results, and the same standard application creation and destruction logic. However, at present, our team is mainly based on Vue, so this aspect needs the team to have time to support.")]),t._v(" "),s("h2",{attrs:{id:"portal"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#portal"}},[t._v("#")]),t._v(" Portal")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://www.followme.com/signal/?source=genesis",target:"_blank",rel:"noopener noreferrer"}},[s("img",{attrs:{src:a(355),alt:"Signal",title:"title"}}),s("OutboundLink")],1)]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://www.followme.com/c/21009745?source=genesis",target:"_blank",rel:"noopener noreferrer"}},[t._v("FOLLOWME5.0"),s("OutboundLink")],1),t._v(" New version of strategy experience")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/fmfe/genesis",target:"_blank",rel:"noopener noreferrer"}},[t._v("Genesis"),s("OutboundLink")],1),t._v(" Github")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://fmfe.github.io/genesis-docs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Genesis"),s("OutboundLink")],1),t._v(" documentation")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/lzxb/vue2-demo",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue demo"),s("OutboundLink")],1),t._v(" SSR demo based on Genesis + TS + Vuex")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/fmfe/vue-genesis-micro",target:"_blank",rel:"noopener noreferrer"}},[t._v("Microarchitecture demo"),s("OutboundLink")],1),t._v(" Example of micro frontend & micro service based on Vue SSR for Genesis framework")]),t._v(" "),s("li",[s("a",{attrs:{href:"https://fmfe.github.io/genesis-docs/blog/followme5.0.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Article Source Address"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=n.exports}}]);